<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIAPOLMAN - Daftar Bisnis</title>

    <!-- font awesome cdn link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer">

    <!-- custom css file link -->
    <link rel="stylesheet" href="../style.css">

    <!-- icon -->
    <link rel="shortcut icon" href="../asset/icon.png">

    <!-- datatable css link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/2.1.3/css/dataTables.bootstrap5.css">

    <style>
        .active>.page-link, .page-link.active {
            background-color: var(--light-blue) !important;
            color: var(--dark-blue) !important;
            border-color: var(--dark-blue) !important;
        }

        #dt-length-0 {
            border-color: var(--dark-blue) !important;
        }

        #dt-search-0 {
            border-color: var(--dark-blue) !important;
        }

        .page-link {
            color: var(--dark-blue) !important;
            border-color: var(--dark-blue) !important;
        }

        table.dataTable thead th {
            vertical-align: middle !important;
            text-align: center !important;
        }

        #myTable tbody .number, #myTable tbody .month, #myTable tbody .btn-options {
            vertical-align: middle !important;
            text-align: center !important;
        }

        #myTable tbody td {
            vertical-align: middle !important;
            text-align: left !important;
        }
    </style>
</head>
<body id="business-page">
    <div class="beranda-container">
        <div class="topbar">
            <div class="logo-wrapper-2">
                <img src="../asset/logo_polman.png" alt="Logo" class="logo-img-2">
                <span class="logo-text">SISTEM INFORMASI AKUNTANSI</span>
            </div>
            <div class="nav-button-group">
                <button class="nav-btn" id="profile"><i class="fa-solid fa-user"></i></button>
                <a href="beranda.html"><button class="nav-btn">Beranda</button></a>
                <a href="daftar_usaha.html"><button class="nav-btn">Daftar Usaha</button></a>
                <a href="daftar_transaksi.html"><button class="nav-btn">Transaksi Bisnis</button></a>
                <a href="daftar_jurnal.html"><button class="nav-btn">Jurnal Umum</button></a>
                <a href="../index.html" onclick="return confirm('Apakah Anda yakin ingin keluar dari halaman ini?')">
                    <button class="nav-btn" id="logout"><i class="fa-solid fa-right-from-bracket"></i></button>
                </a>
            </div>
        </div>
    
        <div class="content">
            <div class="table-business-section">
                <div class="fitur-header">
                    <h3>Daftar Usaha</h3>
                    <span class="fitur-count" id="fitur-count">0</span>
                </div>
                <table width="100%" id="myTable" class="table table-striped">
                <thead>
                    <tr>
                    <th>No.</th>
                    <th>Nama Usaha</th>
                    <th>Jumlah Bulan</th>
                    <th>Lihat Laporan</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Data dummy dari JS akan dimasukkan di sini -->
                </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.datatables.net/2.1.3/js/dataTables.js"></script>
    <script src="https://cdn.datatables.net/2.1.3/js/dataTables.bootstrap5.js"></script>

    <script>
    const usahaData = [
        { id_usaha: 1, nama_usaha: "PT Bisnis Digital", jumlah_bulan: 4 },
        { id_usaha: 2, nama_usaha: "PT Cinta Sejati", jumlah_bulan: 4 },
        { id_usaha: 3, nama_usaha: "CV Doa Restu", jumlah_bulan: 4 },
        { id_usaha: 4, nama_usaha: "PD Sudah Gila", jumlah_bulan: 4 },
        { id_usaha: 5, nama_usaha: "CV Lamaran RSJ", jumlah_bulan: 4 }
    ];

    function renderTable() {
        const tbody = document.getElementById("tableBody");
        tbody.innerHTML = "";
        usahaData.forEach((usaha, index) => {
        const row = document.createElement("tr");
        row.innerHTML = `
            <td class="number">${index + 1}.</td>
            <td>${usaha.nama_usaha}</td>
            <td class="month">${usaha.jumlah_bulan}</td>
            <td class="btn-options">
            <a href="detail_usaha.html?id_usaha=${usaha.id_usaha}">
                <button class="nav-btn btn-detail">Detail</button>
            </a>
            </td>
        `;
        tbody.appendChild(row);
        });
        document.getElementById("fitur-count").textContent = usahaData.length;
    }

    document.addEventListener("DOMContentLoaded", function() {
        renderTable();
        new DataTable('#myTable');
    });
    </script>
</body>
</html>